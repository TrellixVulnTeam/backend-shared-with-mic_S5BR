{"version":3,"file":"vendure-admin-ui-dashboard.js","sources":["../../src/lib/dashboard/src/components/dashboard/dashboard.component.ts","../../src/lib/dashboard/src/components/dashboard-widget/dashboard-widget.component.ts","../../src/lib/dashboard/src/dashboard.routes.ts","../../src/lib/dashboard/src/widgets/latest-orders-widget/latest-orders-widget.component.ts","../../src/lib/dashboard/src/widgets/order-summary-widget/order-summary-widget.component.ts","../../src/lib/dashboard/src/widgets/test-widget/test-widget.component.ts","../../src/lib/dashboard/src/widgets/welcome-widget/welcome-widget.component.ts","../../src/lib/dashboard/src/default-widgets.ts","../../src/lib/dashboard/src/dashboard.module.ts","../../src/lib/dashboard/src/public_api.ts","../../src/lib/dashboard/src/vendure-admin-ui-dashboard.ts"],"names":["_"],"mappings":"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","sourcesContent":["import { CdkDragDrop } from '@angular/cdk/drag-drop';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport {\r\n    DashboardWidgetConfig,\r\n    DashboardWidgetService,\r\n    DashboardWidgetWidth,\r\n    DataService,\r\n    LocalStorageService,\r\n    WidgetLayout,\r\n    WidgetLayoutDefinition,\r\n} from '@vendure/admin-ui/core';\r\nimport { assertNever } from '@vendure/common/lib/shared-utils';\r\nimport { Observable } from 'rxjs';\r\nimport { map, tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'vdr-dashboard',\r\n    templateUrl: './dashboard.component.html',\r\n    styleUrls: ['./dashboard.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n    widgetLayout: WidgetLayout | undefined;\r\n    availableWidgetIds$: Observable<string[]>;\r\n    private readonly deletionMarker = '__delete__';\r\n\r\n    constructor(\r\n        private dashboardWidgetService: DashboardWidgetService,\r\n        private localStorageService: LocalStorageService,\r\n        private changedDetectorRef: ChangeDetectorRef,\r\n        private dataService: DataService,\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.availableWidgetIds$ = this.dataService.client.userStatus().stream$.pipe(\r\n            map(({ userStatus }) => userStatus.permissions),\r\n            map(permissions => this.dashboardWidgetService.getAvailableIds(permissions)),\r\n            tap(ids => (this.widgetLayout = this.initLayout(ids))),\r\n        );\r\n    }\r\n\r\n    getClassForWidth(width: DashboardWidgetWidth): string {\r\n        switch (width) {\r\n            case 3:\r\n                return `clr-col-12 clr-col-sm-6 clr-col-lg-3`;\r\n            case 4:\r\n                return `clr-col-12 clr-col-sm-6 clr-col-lg-4`;\r\n            case 6:\r\n                return `clr-col-12 clr-col-lg-6`;\r\n            case 8:\r\n                return `clr-col-12 clr-col-lg-8`;\r\n            case 12:\r\n                return `clr-col-12`;\r\n            default:\r\n                assertNever(width);\r\n        }\r\n    }\r\n\r\n    getSupportedWidths(config: DashboardWidgetConfig): DashboardWidgetWidth[] {\r\n        return config.supportedWidths || [3, 4, 6, 8, 12];\r\n    }\r\n\r\n    setWidgetWidth(widget: WidgetLayout[number][number], width: DashboardWidgetWidth) {\r\n        widget.width = width;\r\n        this.recalculateLayout();\r\n    }\r\n\r\n    trackRow(index: number, row: WidgetLayout[number]) {\r\n        const id = row.map(item => `${item.id}:${item.width}`).join('|');\r\n        return id;\r\n    }\r\n\r\n    trackRowItem(index: number, item: WidgetLayout[number][number]) {\r\n        return item.config;\r\n    }\r\n\r\n    addWidget(id: string) {\r\n        const config = this.dashboardWidgetService.getWidgetById(id);\r\n        if (config) {\r\n            const width = this.getSupportedWidths(config)[0];\r\n            const widget: WidgetLayout[number][number] = {\r\n                id,\r\n                config,\r\n                width,\r\n            };\r\n            let targetRow: WidgetLayout[number];\r\n            if (this.widgetLayout && this.widgetLayout.length) {\r\n                targetRow = this.widgetLayout[this.widgetLayout.length - 1];\r\n            } else {\r\n                targetRow = [];\r\n                this.widgetLayout?.push(targetRow);\r\n            }\r\n            targetRow.push(widget);\r\n            this.recalculateLayout();\r\n        }\r\n    }\r\n\r\n    removeWidget(widget: WidgetLayout[number][number]) {\r\n        widget.id = this.deletionMarker;\r\n        this.recalculateLayout();\r\n    }\r\n\r\n    drop(event: CdkDragDrop<{ index: number }>) {\r\n        const { currentIndex, previousIndex, previousContainer, container } = event;\r\n        if (previousIndex === currentIndex && previousContainer.data.index === container.data.index) {\r\n            // Nothing changed\r\n            return;\r\n        }\r\n        if (this.widgetLayout) {\r\n            const previousLayoutRow = this.widgetLayout[previousContainer.data.index];\r\n            const newLayoutRow = this.widgetLayout[container.data.index];\r\n\r\n            previousLayoutRow.splice(previousIndex, 1);\r\n            newLayoutRow.splice(currentIndex, 0, event.item.data);\r\n            this.recalculateLayout();\r\n        }\r\n    }\r\n\r\n    private initLayout(availableIds: string[]): WidgetLayout {\r\n        const savedLayoutDef = this.localStorageService.get('dashboardWidgetLayout');\r\n        let layoutDef: WidgetLayoutDefinition | undefined;\r\n        if (savedLayoutDef) {\r\n            // validate all the IDs from the saved layout are still available\r\n            layoutDef = savedLayoutDef.filter(item => availableIds.includes(item.id));\r\n        }\r\n        return this.dashboardWidgetService.getWidgetLayout(layoutDef);\r\n    }\r\n\r\n    private recalculateLayout() {\r\n        if (this.widgetLayout) {\r\n            const flattened = this.widgetLayout\r\n                .reduce((flat, row) => [...flat, ...row], [])\r\n                .filter(item => item.id !== this.deletionMarker);\r\n            const newLayoutDef: WidgetLayoutDefinition = flattened.map(item => ({\r\n                id: item.id,\r\n                width: item.width,\r\n            }));\r\n            this.widgetLayout = this.dashboardWidgetService.getWidgetLayout(newLayoutDef);\r\n            this.localStorageService.set('dashboardWidgetLayout', newLayoutDef);\r\n            setTimeout(() => this.changedDetectorRef.markForCheck());\r\n        }\r\n    }\r\n}\r\n","import {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    Component,\n    ComponentFactoryResolver,\n    ComponentRef,\n    Input,\n    OnDestroy,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport { DashboardWidgetConfig } from '@vendure/admin-ui/core';\n\n@Component({\n    selector: 'vdr-dashboard-widget',\n    templateUrl: './dashboard-widget.component.html',\n    styleUrls: ['./dashboard-widget.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DashboardWidgetComponent implements AfterViewInit, OnDestroy {\n    @Input() widgetConfig: DashboardWidgetConfig;\n\n    @ViewChild('portal', { read: ViewContainerRef })\n    private portal: ViewContainerRef;\n\n    private componentRef: ComponentRef<any>;\n\n    constructor(private componentFactoryResolver: ComponentFactoryResolver) {}\n\n    ngAfterViewInit(): void {\n        this.loadWidget();\n    }\n\n    private async loadWidget() {\n        const loadComponentResult = this.widgetConfig.loadComponent();\n        const componentType =\n            loadComponentResult instanceof Promise ? await loadComponentResult : loadComponentResult;\n        this.componentRef = this.portal.createComponent(\n            this.componentFactoryResolver.resolveComponentFactory(componentType),\n        );\n        this.componentRef.changeDetectorRef.markForCheck();\n    }\n\n    ngOnDestroy() {\n        if (this.componentRef) {\n            this.componentRef.destroy();\n        }\n    }\n}\n","import { Routes } from '@angular/router';\r\n\r\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\r\n\r\nexport const dashboardRoutes: Routes = [\r\n    {\r\n        path: '',\r\n        component: DashboardComponent,\r\n        pathMatch: 'full',\r\n    },\r\n];\r\n","import { ChangeDetectionStrategy, Component, NgModule, OnInit } from '@angular/core';\r\nimport { CoreModule, DataService, GetOrderList, SharedModule, SortOrder } from '@vendure/admin-ui/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'vdr-latest-orders-widget',\r\n    templateUrl: './latest-orders-widget.component.html',\r\n    styleUrls: ['./latest-orders-widget.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class LatestOrdersWidgetComponent implements OnInit {\r\n    latestOrders$: Observable<GetOrderList.Items[]>;\r\n    constructor(private dataService: DataService) {}\r\n\r\n    ngOnInit(): void {\r\n        this.latestOrders$ = this.dataService.order\r\n            .getOrders({\r\n                take: 10,\r\n                filter: {\r\n                    active: { eq: false },\r\n                    state: { notEq: 'Cancelled' },\r\n                },\r\n                sort: {\r\n                    orderPlacedAt: SortOrder.DESC,\r\n                },\r\n            })\r\n            .refetchOnChannelChange()\r\n            .mapStream(data => data.orders.items);\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CoreModule, SharedModule],\r\n    declarations: [LatestOrdersWidgetComponent],\r\n})\r\nexport class LatestOrdersWidgetModule {}\r\n","import { ChangeDetectionStrategy, Component, NgModule, OnInit } from '@angular/core';\r\nimport { CoreModule, DataService } from '@vendure/admin-ui/core';\r\nimport dayjs from 'dayjs';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { distinctUntilChanged, map, shareReplay, switchMap } from 'rxjs/operators';\r\n\r\nexport type Timeframe = 'day' | 'week' | 'month';\r\n\r\n@Component({\r\n    selector: 'vdr-order-summary-widget',\r\n    templateUrl: './order-summary-widget.component.html',\r\n    styleUrls: ['./order-summary-widget.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class OrderSummaryWidgetComponent implements OnInit {\r\n    today = new Date();\r\n    yesterday = new Date(new Date().setDate(this.today.getDate() - 1));\r\n    totalOrderCount$: Observable<number>;\r\n    totalOrderValue$: Observable<number>;\r\n    currencyCode$: Observable<string | undefined>;\r\n    selection$ = new BehaviorSubject<{ timeframe: Timeframe; date?: Date }>({\r\n        timeframe: 'day',\r\n        date: this.today,\r\n    });\r\n    dateRange$: Observable<{ start: Date; end: Date }>;\r\n\r\n    constructor(private dataService: DataService) {}\r\n\r\n    ngOnInit(): void {\r\n        this.dateRange$ = this.selection$.pipe(\r\n            distinctUntilChanged(),\r\n            map(selection => {\r\n                return {\r\n                    start: dayjs(selection.date).startOf(selection.timeframe).toDate(),\r\n                    end: dayjs(selection.date).endOf(selection.timeframe).toDate(),\r\n                };\r\n            }),\r\n            shareReplay(1),\r\n        );\r\n        const orderSummary$ = this.dateRange$.pipe(\r\n            switchMap(({ start, end }) => {\r\n                return this.dataService.order\r\n                    .getOrderSummary(start, end)\r\n                    .refetchOnChannelChange()\r\n                    .mapStream(data => data.orders);\r\n            }),\r\n            shareReplay(1),\r\n        );\r\n        this.totalOrderCount$ = orderSummary$.pipe(map(res => res.totalItems));\r\n        this.totalOrderValue$ = orderSummary$.pipe(\r\n            map(res => res.items.reduce((total, order) => total + order.total, 0) / 100),\r\n        );\r\n        this.currencyCode$ = this.dataService.settings\r\n            .getActiveChannel()\r\n            .refetchOnChannelChange()\r\n            .mapStream(data => data.activeChannel.currencyCode || undefined);\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CoreModule],\r\n    declarations: [OrderSummaryWidgetComponent],\r\n})\r\nexport class OrderSummaryWidgetModule {}\r\n","import { ChangeDetectionStrategy, Component, NgModule } from '@angular/core';\n\n@Component({\n    selector: 'vdr-test-widget',\n    templateUrl: './test-widget.component.html',\n    styleUrls: ['./test-widget.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TestWidgetComponent {}\n\n@NgModule({\n    declarations: [TestWidgetComponent],\n})\nexport class TestWidgetModule {}\n","import { ChangeDetectionStrategy, Component, NgModule, OnInit } from '@angular/core';\r\nimport {\r\n    Administrator,\r\n    ADMIN_UI_VERSION,\r\n    CoreModule,\r\n    DataService,\r\n    GetActiveAdministrator,\r\n    getAppConfig,\r\n} from '@vendure/admin-ui/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'vdr-welcome-widget',\r\n    templateUrl: './welcome-widget.component.html',\r\n    styleUrls: ['./welcome-widget.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class WelcomeWidgetComponent implements OnInit {\r\n    version = ADMIN_UI_VERSION;\r\n    administrator$: Observable<GetActiveAdministrator.ActiveAdministrator | null>;\r\n    brand = getAppConfig().brand;\r\n    hideVendureBranding = getAppConfig().hideVendureBranding;\r\n    hideVersion = getAppConfig().hideVersion;\r\n\r\n    constructor(private dataService: DataService) {}\r\n\r\n    ngOnInit(): void {\r\n        this.administrator$ = this.dataService.administrator\r\n            .getActiveAdministrator()\r\n            .mapStream(data => data.activeAdministrator || null);\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CoreModule],\r\n    declarations: [WelcomeWidgetComponent],\r\n})\r\nexport class WelcomeWidgetModule {}\r\n","import { APP_INITIALIZER, FactoryProvider } from '@angular/core';\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\nimport {\n    DashboardWidgetConfig,\n    DashboardWidgetService,\n    Permission,\n    WidgetLayoutDefinition,\n} from '@vendure/admin-ui/core';\n\nimport { LatestOrdersWidgetComponent } from './widgets/latest-orders-widget/latest-orders-widget.component';\nimport { OrderSummaryWidgetComponent } from './widgets/order-summary-widget/order-summary-widget.component';\nimport { TestWidgetComponent } from './widgets/test-widget/test-widget.component';\nimport { WelcomeWidgetComponent } from './widgets/welcome-widget/welcome-widget.component';\n\nexport const DEFAULT_DASHBOARD_WIDGET_LAYOUT: WidgetLayoutDefinition = [\n    { id: 'welcome', width: 12 },\n    { id: 'orderSummary', width: 6 },\n    { id: 'latestOrders', width: 6 },\n];\n\nexport const DEFAULT_WIDGETS: { [id: string]: DashboardWidgetConfig } = {\n    welcome: {\n        loadComponent: () => WelcomeWidgetComponent,\n    },\n    orderSummary: {\n        title: _('dashboard.orders-summary'),\n        loadComponent: () => OrderSummaryWidgetComponent,\n        requiresPermissions: [Permission.ReadOrder],\n    },\n    latestOrders: {\n        title: _('dashboard.latest-orders'),\n        loadComponent: () => LatestOrdersWidgetComponent,\n        supportedWidths: [6, 8, 12],\n        requiresPermissions: [Permission.ReadOrder],\n    },\n    testWidget: {\n        title: 'Test Widget',\n        loadComponent: () => TestWidgetComponent,\n    },\n};\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { DashboardWidgetService, SharedModule } from '@vendure/admin-ui/core';\n\nimport { DashboardWidgetComponent } from './components/dashboard-widget/dashboard-widget.component';\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\nimport { dashboardRoutes } from './dashboard.routes';\nimport { DEFAULT_DASHBOARD_WIDGET_LAYOUT, DEFAULT_WIDGETS } from './default-widgets';\n\n@NgModule({\n    imports: [SharedModule, RouterModule.forChild(dashboardRoutes)],\n    declarations: [DashboardComponent, DashboardWidgetComponent],\n})\nexport class DashboardModule {\n    constructor(dashboardWidgetService: DashboardWidgetService) {\n        Object.entries(DEFAULT_WIDGETS).map(([id, config]) =>\n            dashboardWidgetService.registerWidget(id, config),\n        );\n        if (dashboardWidgetService.getDefaultLayout().length === 0) {\n            dashboardWidgetService.setDefaultLayout(DEFAULT_DASHBOARD_WIDGET_LAYOUT);\n        }\n    }\n}\n","// This file was generated by the build-public-api.ts script\nexport * from './components/dashboard/dashboard.component';\nexport * from './components/dashboard-widget/dashboard-widget.component';\nexport * from './dashboard.module';\nexport * from './dashboard.routes';\nexport * from './default-widgets';\nexport * from './widgets/latest-orders-widget/latest-orders-widget.component';\nexport * from './widgets/order-summary-widget/order-summary-widget.component';\nexport * from './widgets/test-widget/test-widget.component';\nexport * from './widgets/welcome-widget/welcome-widget.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}