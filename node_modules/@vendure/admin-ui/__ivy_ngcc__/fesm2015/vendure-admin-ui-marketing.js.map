{"version":3,"file":"vendure-admin-ui-marketing.js","sources":["../../src/lib/marketing/src/components/promotion-detail/promotion-detail.component.ts","../../src/lib/marketing/src/components/promotion-list/promotion-list.component.ts","../../src/lib/marketing/src/providers/routing/promotion-resolver.ts","../../src/lib/marketing/src/marketing.routes.ts","../../src/lib/marketing/src/marketing.module.ts","../../src/lib/marketing/src/public_api.ts","../../src/lib/marketing/src/vendure-admin-ui-marketing.ts"],"names":["_"],"mappings":"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","sourcesContent":["import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\r\nimport {\r\n    BaseDetailComponent,\r\n    ConfigurableOperation,\r\n    ConfigurableOperationDefinition,\r\n    ConfigurableOperationInput,\r\n    CreatePromotionInput,\r\n    CustomFieldConfig,\r\n    DataService,\r\n    encodeConfigArgValue,\r\n    getConfigArgValue,\r\n    getDefaultConfigArgValue,\r\n    LanguageCode,\r\n    NotificationService,\r\n    Promotion,\r\n    ServerConfigService,\r\n    UpdatePromotionInput,\r\n} from '@vendure/admin-ui/core';\r\nimport { Observable } from 'rxjs';\r\nimport { mergeMap, take } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'vdr-promotion-detail',\r\n    templateUrl: './promotion-detail.component.html',\r\n    styleUrls: ['./promotion-detail.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class PromotionDetailComponent\r\n    extends BaseDetailComponent<Promotion.Fragment>\r\n    implements OnInit, OnDestroy\r\n{\r\n    promotion$: Observable<Promotion.Fragment>;\r\n    detailForm: FormGroup;\r\n    customFields: CustomFieldConfig[];\r\n    conditions: ConfigurableOperation[] = [];\r\n    actions: ConfigurableOperation[] = [];\r\n\r\n    private allConditions: ConfigurableOperationDefinition[] = [];\r\n    private allActions: ConfigurableOperationDefinition[] = [];\r\n\r\n    constructor(\r\n        router: Router,\r\n        route: ActivatedRoute,\r\n        serverConfigService: ServerConfigService,\r\n        private changeDetector: ChangeDetectorRef,\r\n        protected dataService: DataService,\r\n        private formBuilder: FormBuilder,\r\n        private notificationService: NotificationService,\r\n    ) {\r\n        super(route, router, serverConfigService, dataService);\r\n        this.customFields = this.getCustomFieldConfig('Promotion');\r\n        this.detailForm = this.formBuilder.group({\r\n            name: ['', Validators.required],\r\n            enabled: true,\r\n            couponCode: null,\r\n            perCustomerUsageLimit: null,\r\n            startsAt: null,\r\n            endsAt: null,\r\n            conditions: this.formBuilder.array([]),\r\n            actions: this.formBuilder.array([]),\r\n            customFields: this.formBuilder.group(\r\n                this.customFields.reduce((hash, field) => ({ ...hash, [field.name]: '' }), {}),\r\n            ),\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.init();\r\n        this.promotion$ = this.entity$;\r\n        this.dataService.promotion.getPromotionActionsAndConditions().single$.subscribe(data => {\r\n            this.allActions = data.promotionActions;\r\n            this.allConditions = data.promotionConditions;\r\n            this.changeDetector.markForCheck();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.destroy();\r\n    }\r\n\r\n    getAvailableConditions(): ConfigurableOperationDefinition[] {\r\n        return this.allConditions.filter(o => !this.conditions.find(c => c.code === o.code));\r\n    }\r\n\r\n    getConditionDefinition(condition: ConfigurableOperation): ConfigurableOperationDefinition | undefined {\r\n        return this.allConditions.find(c => c.code === condition.code);\r\n    }\r\n\r\n    getAvailableActions(): ConfigurableOperationDefinition[] {\r\n        return this.allActions.filter(o => !this.actions.find(a => a.code === o.code));\r\n    }\r\n\r\n    getActionDefinition(action: ConfigurableOperation): ConfigurableOperationDefinition | undefined {\r\n        return this.allActions.find(c => c.code === action.code);\r\n    }\r\n\r\n    saveButtonEnabled(): boolean {\r\n        return (\r\n            this.detailForm.dirty &&\r\n            this.detailForm.valid &&\r\n            (this.conditions.length !== 0 || this.detailForm.value.couponCode) &&\r\n            this.actions.length !== 0\r\n        );\r\n    }\r\n\r\n    addCondition(condition: ConfigurableOperation) {\r\n        this.addOperation('conditions', condition);\r\n        this.detailForm.markAsDirty();\r\n    }\r\n\r\n    addAction(action: ConfigurableOperation) {\r\n        this.addOperation('actions', action);\r\n        this.detailForm.markAsDirty();\r\n    }\r\n\r\n    removeCondition(condition: ConfigurableOperation) {\r\n        this.removeOperation('conditions', condition);\r\n        this.detailForm.markAsDirty();\r\n    }\r\n\r\n    removeAction(action: ConfigurableOperation) {\r\n        this.removeOperation('actions', action);\r\n        this.detailForm.markAsDirty();\r\n    }\r\n\r\n    formArrayOf(key: 'conditions' | 'actions'): FormArray {\r\n        return this.detailForm.get(key) as FormArray;\r\n    }\r\n\r\n    create() {\r\n        if (!this.detailForm.dirty) {\r\n            return;\r\n        }\r\n        const formValue = this.detailForm.value;\r\n        const input: CreatePromotionInput = {\r\n            name: formValue.name,\r\n            enabled: true,\r\n            couponCode: formValue.couponCode,\r\n            perCustomerUsageLimit: formValue.perCustomerUsageLimit,\r\n            startsAt: formValue.startsAt,\r\n            endsAt: formValue.endsAt,\r\n            conditions: this.mapOperationsToInputs(this.conditions, formValue.conditions),\r\n            actions: this.mapOperationsToInputs(this.actions, formValue.actions),\r\n            customFields: formValue.customFields,\r\n        };\r\n        this.dataService.promotion.createPromotion(input).subscribe(\r\n            ({ createPromotion }) => {\r\n                switch (createPromotion.__typename) {\r\n                    case 'Promotion':\r\n                        this.notificationService.success(_('common.notify-create-success'), {\r\n                            entity: 'Promotion',\r\n                        });\r\n                        this.detailForm.markAsPristine();\r\n                        this.changeDetector.markForCheck();\r\n                        this.router.navigate(['../', createPromotion.id], { relativeTo: this.route });\r\n                        break;\r\n                    case 'MissingConditionsError':\r\n                        this.notificationService.error(createPromotion.message);\r\n                        break;\r\n                }\r\n            },\r\n            err => {\r\n                this.notificationService.error(_('common.notify-create-error'), {\r\n                    entity: 'Promotion',\r\n                });\r\n            },\r\n        );\r\n    }\r\n\r\n    save() {\r\n        if (!this.detailForm.dirty) {\r\n            return;\r\n        }\r\n        const formValue = this.detailForm.value;\r\n        this.promotion$\r\n            .pipe(\r\n                take(1),\r\n                mergeMap(promotion => {\r\n                    const input: UpdatePromotionInput = {\r\n                        id: promotion.id,\r\n                        name: formValue.name,\r\n                        enabled: formValue.enabled,\r\n                        couponCode: formValue.couponCode,\r\n                        perCustomerUsageLimit: formValue.perCustomerUsageLimit,\r\n                        startsAt: formValue.startsAt,\r\n                        endsAt: formValue.endsAt,\r\n                        conditions: this.mapOperationsToInputs(this.conditions, formValue.conditions),\r\n                        actions: this.mapOperationsToInputs(this.actions, formValue.actions),\r\n                        customFields: formValue.customFields,\r\n                    };\r\n                    return this.dataService.promotion.updatePromotion(input);\r\n                }),\r\n            )\r\n            .subscribe(\r\n                data => {\r\n                    this.notificationService.success(_('common.notify-update-success'), {\r\n                        entity: 'Promotion',\r\n                    });\r\n                    this.detailForm.markAsPristine();\r\n                    this.changeDetector.markForCheck();\r\n                },\r\n                err => {\r\n                    this.notificationService.error(_('common.notify-update-error'), {\r\n                        entity: 'Promotion',\r\n                    });\r\n                },\r\n            );\r\n    }\r\n\r\n    /**\r\n     * Update the form values when the entity changes.\r\n     */\r\n    protected setFormValues(entity: Promotion.Fragment, languageCode: LanguageCode): void {\r\n        this.detailForm.patchValue({\r\n            name: entity.name,\r\n            enabled: entity.enabled,\r\n            couponCode: entity.couponCode,\r\n            perCustomerUsageLimit: entity.perCustomerUsageLimit,\r\n            startsAt: entity.startsAt,\r\n            endsAt: entity.endsAt,\r\n        });\r\n        entity.conditions.forEach(o => {\r\n            this.addOperation('conditions', o);\r\n        });\r\n        entity.actions.forEach(o => this.addOperation('actions', o));\r\n        if (this.customFields.length) {\r\n            this.setCustomFieldFormValues(this.customFields, this.detailForm.get('customFields'), entity);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Maps an array of conditions or actions to the input format expected by the GraphQL API.\r\n     */\r\n    private mapOperationsToInputs(\r\n        operations: ConfigurableOperation[],\r\n        formValueOperations: any,\r\n    ): ConfigurableOperationInput[] {\r\n        return operations.map((o, i) => {\r\n            return {\r\n                code: o.code,\r\n                arguments: Object.values<any>(formValueOperations[i].args).map((value, j) => ({\r\n                    name: o.args[j].name,\r\n                    value: encodeConfigArgValue(value),\r\n                })),\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Adds a new condition or action to the promotion.\r\n     */\r\n    private addOperation(key: 'conditions' | 'actions', operation: ConfigurableOperation) {\r\n        const operationsArray = this.formArrayOf(key);\r\n        const collection = key === 'conditions' ? this.conditions : this.actions;\r\n        const index = operationsArray.value.findIndex(o => o.code === operation.code);\r\n        if (index === -1) {\r\n            const argsHash = operation.args.reduce(\r\n                (output, arg) => ({\r\n                    ...output,\r\n                    [arg.name]:\r\n                        getConfigArgValue(arg.value) ?? this.getDefaultArgValue(key, operation, arg.name),\r\n                }),\r\n                {},\r\n            );\r\n            operationsArray.push(\r\n                this.formBuilder.control({\r\n                    code: operation.code,\r\n                    args: argsHash,\r\n                }),\r\n            );\r\n            collection.push({\r\n                code: operation.code,\r\n                args: operation.args.map(a => ({ name: a.name, value: getConfigArgValue(a.value) })),\r\n            });\r\n        }\r\n    }\r\n\r\n    private getDefaultArgValue(\r\n        key: 'conditions' | 'actions',\r\n        operation: ConfigurableOperation,\r\n        argName: string,\r\n    ) {\r\n        const def =\r\n            key === 'conditions'\r\n                ? this.allConditions.find(c => c.code === operation.code)\r\n                : this.allActions.find(a => a.code === operation.code);\r\n        if (def) {\r\n            const argDef = def.args.find(a => a.name === argName);\r\n            if (argDef) {\r\n                return getDefaultConfigArgValue(argDef);\r\n            }\r\n        }\r\n        throw new Error(`Could not determine default value for \"argName\"`);\r\n    }\r\n\r\n    /**\r\n     * Removes a condition or action from the promotion.\r\n     */\r\n    private removeOperation(key: 'conditions' | 'actions', operation: ConfigurableOperation) {\r\n        const operationsArray = this.formArrayOf(key);\r\n        const collection = key === 'conditions' ? this.conditions : this.actions;\r\n        const index = operationsArray.value.findIndex(o => o.code === operation.code);\r\n        if (index !== -1) {\r\n            operationsArray.removeAt(index);\r\n            collection.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n","import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\r\nimport { BaseListComponent, PromotionFilterParameter, PromotionListOptions } from '@vendure/admin-ui/core';\r\nimport { GetPromotionList } from '@vendure/admin-ui/core';\r\nimport { NotificationService } from '@vendure/admin-ui/core';\r\nimport { DataService } from '@vendure/admin-ui/core';\r\nimport { ModalService } from '@vendure/admin-ui/core';\r\nimport { EMPTY, merge } from 'rxjs';\r\nimport { debounceTime, switchMap, takeUntil } from 'rxjs/operators';\r\n\r\nexport type PromotionSearchForm = {\r\n    name: string;\r\n    couponCode: string;\r\n};\r\n\r\n@Component({\r\n    selector: 'vdr-promotion-list',\r\n    templateUrl: './promotion-list.component.html',\r\n    styleUrls: ['./promotion-list.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class PromotionListComponent\r\n    extends BaseListComponent<GetPromotionList.Query, GetPromotionList.Items>\r\n    implements OnInit {\r\n    searchForm = new FormGroup({\r\n        name: new FormControl(''),\r\n        couponCode: new FormControl(''),\r\n    });\r\n\r\n    constructor(\r\n        private dataService: DataService,\r\n        router: Router,\r\n        route: ActivatedRoute,\r\n        private notificationService: NotificationService,\r\n        private modalService: ModalService,\r\n    ) {\r\n        super(router, route);\r\n        super.setQueryFn(\r\n            (...args: any[]) => this.dataService.promotion.getPromotions(...args).refetchOnChannelChange(),\r\n            data => data.promotions,\r\n            (skip, take) => this.createQueryOptions(skip, take, this.searchForm.value),\r\n        );\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n\r\n        merge(this.searchForm.valueChanges.pipe(debounceTime(250)), this.route.queryParamMap)\r\n            .pipe(takeUntil(this.destroy$))\r\n            .subscribe(val => {\r\n                if (!val.params) {\r\n                    this.setPageNumber(1);\r\n                }\r\n                this.refresh();\r\n            });\r\n    }\r\n\r\n    deletePromotion(promotionId: string) {\r\n        this.modalService\r\n            .dialog({\r\n                title: _('catalog.confirm-delete-promotion'),\r\n                buttons: [\r\n                    { type: 'secondary', label: _('common.cancel') },\r\n                    { type: 'danger', label: _('common.delete'), returnValue: true },\r\n                ],\r\n            })\r\n            .pipe(\r\n                switchMap(response =>\r\n                    response ? this.dataService.promotion.deletePromotion(promotionId) : EMPTY,\r\n                ),\r\n            )\r\n            .subscribe(\r\n                () => {\r\n                    this.notificationService.success(_('common.notify-delete-success'), {\r\n                        entity: 'Promotion',\r\n                    });\r\n                    this.refresh();\r\n                },\r\n                err => {\r\n                    this.notificationService.error(_('common.notify-delete-error'), {\r\n                        entity: 'Promotion',\r\n                    });\r\n                },\r\n            );\r\n    }\r\n\r\n    private createQueryOptions(\r\n        skip: number,\r\n        take: number,\r\n        searchForm: PromotionSearchForm,\r\n    ): { options: PromotionListOptions } {\r\n        const filter: PromotionFilterParameter = {};\r\n\r\n        if (searchForm.couponCode) {\r\n            filter.couponCode = { contains: searchForm.couponCode };\r\n        }\r\n\r\n        if (searchForm.name) {\r\n            filter.name = { contains: searchForm.name };\r\n        }\r\n\r\n        return {\r\n            options: {\r\n                skip,\r\n                take,\r\n                filter,\r\n            },\r\n        };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BaseEntityResolver, DataService, Promotion } from '@vendure/admin-ui/core';\r\n\r\n/**\r\n * Resolves the id from the path into a Customer entity.\r\n */\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class PromotionResolver extends BaseEntityResolver<Promotion.Fragment> {\r\n    constructor(router: Router, dataService: DataService) {\r\n        super(\r\n            router,\r\n            {\r\n                __typename: 'Promotion',\r\n                id: '',\r\n                createdAt: '',\r\n                updatedAt: '',\r\n                name: '',\r\n                enabled: false,\r\n                conditions: [],\r\n                actions: [],\r\n            },\r\n            id => dataService.promotion.getPromotion(id).mapStream(data => data.promotion),\r\n        );\r\n    }\r\n}\r\n","import { Route } from '@angular/router';\r\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\r\nimport { CanDeactivateDetailGuard, createResolveData, detailBreadcrumb, Promotion } from '@vendure/admin-ui/core';\r\n\r\nimport { PromotionDetailComponent } from './components/promotion-detail/promotion-detail.component';\r\nimport { PromotionListComponent } from './components/promotion-list/promotion-list.component';\r\nimport { PromotionResolver } from './providers/routing/promotion-resolver';\r\n\r\nexport const marketingRoutes: Route[] = [\r\n    {\r\n        path: 'promotions',\r\n        component: PromotionListComponent,\r\n        data: {\r\n            breadcrumb: _('breadcrumb.promotions'),\r\n        },\r\n    },\r\n    {\r\n        path: 'promotions/:id',\r\n        component: PromotionDetailComponent,\r\n        resolve: createResolveData(PromotionResolver),\r\n        canDeactivate: [CanDeactivateDetailGuard],\r\n        data: {\r\n            breadcrumb: promotionBreadcrumb,\r\n        },\r\n    },\r\n];\r\n\r\nexport function promotionBreadcrumb(data: any, params: any) {\r\n    return detailBreadcrumb<Promotion.Fragment>({\r\n        entity: data.entity,\r\n        id: params.id,\r\n        breadcrumbKey: 'breadcrumb.promotions',\r\n        getName: promotion => promotion.name,\r\n        route: 'promotions',\r\n    });\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '@vendure/admin-ui/core';\r\n\r\nimport { PromotionDetailComponent } from './components/promotion-detail/promotion-detail.component';\r\nimport { PromotionListComponent } from './components/promotion-list/promotion-list.component';\r\nimport { marketingRoutes } from './marketing.routes';\r\n\r\n@NgModule({\r\n    imports: [SharedModule, RouterModule.forChild(marketingRoutes)],\r\n    declarations: [PromotionListComponent, PromotionDetailComponent],\r\n})\r\nexport class MarketingModule {}\r\n","// This file was generated by the build-public-api.ts script\nexport * from './components/promotion-detail/promotion-detail.component';\nexport * from './components/promotion-list/promotion-list.component';\nexport * from './marketing.module';\nexport * from './marketing.routes';\nexport * from './providers/routing/promotion-resolver';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}