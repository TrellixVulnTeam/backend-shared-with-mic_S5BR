import { GET_NEWTORK_STATUS, GET_UI_STATE, GET_USER_STATUS, REQUEST_COMPLETED, REQUEST_STARTED, SET_ACTIVE_CHANNEL, SET_AS_LOGGED_IN, SET_AS_LOGGED_OUT, SET_CONTENT_LANGUAGE, SET_DISPLAY_UI_EXTENSION_POINTS, SET_UI_LANGUAGE_AND_LOCALE, SET_UI_LOCALE, SET_UI_THEME, UPDATE_USER_CHANNELS, } from '../definitions/client-definitions';
/**
 * Note: local queries all have a fetch-policy of "cache-first" explicitly specified due to:
 * https://github.com/apollographql/apollo-link-state/issues/236
 */
export class ClientDataService {
    constructor(baseDataService) {
        this.baseDataService = baseDataService;
    }
    startRequest() {
        return this.baseDataService.mutate(REQUEST_STARTED);
    }
    completeRequest() {
        return this.baseDataService.mutate(REQUEST_COMPLETED);
    }
    getNetworkStatus() {
        return this.baseDataService.query(GET_NEWTORK_STATUS, {}, 'cache-first');
    }
    loginSuccess(username, activeChannelId, channels) {
        return this.baseDataService.mutate(SET_AS_LOGGED_IN, {
            input: {
                username,
                loginTime: Date.now().toString(),
                activeChannelId,
                channels,
            },
        });
    }
    logOut() {
        return this.baseDataService.mutate(SET_AS_LOGGED_OUT);
    }
    userStatus() {
        return this.baseDataService.query(GET_USER_STATUS, {}, 'cache-first');
    }
    uiState() {
        return this.baseDataService.query(GET_UI_STATE, {}, 'cache-first');
    }
    setUiLanguage(languageCode, locale) {
        return this.baseDataService.mutate(SET_UI_LANGUAGE_AND_LOCALE, {
            languageCode,
            locale,
        });
    }
    setUiLocale(locale) {
        return this.baseDataService.mutate(SET_UI_LOCALE, {
            locale,
        });
    }
    setContentLanguage(languageCode) {
        return this.baseDataService.mutate(SET_CONTENT_LANGUAGE, {
            languageCode,
        });
    }
    setUiTheme(theme) {
        return this.baseDataService.mutate(SET_UI_THEME, {
            theme,
        });
    }
    setDisplayUiExtensionPoints(display) {
        return this.baseDataService.mutate(SET_DISPLAY_UI_EXTENSION_POINTS, {
            display,
        });
    }
    setActiveChannel(channelId) {
        return this.baseDataService.mutate(SET_ACTIVE_CHANNEL, {
            channelId,
        });
    }
    updateUserChannels(channels) {
        return this.baseDataService.mutate(UPDATE_USER_CHANNELS, {
            channels,
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LWRhdGEuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29yZS9zcmMvZGF0YS9wcm92aWRlcnMvY2xpZW50LWRhdGEuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrQkEsT0FBTyxFQUNILGtCQUFrQixFQUNsQixZQUFZLEVBQ1osZUFBZSxFQUNmLGlCQUFpQixFQUNqQixlQUFlLEVBQ2Ysa0JBQWtCLEVBQ2xCLGdCQUFnQixFQUNoQixpQkFBaUIsRUFDakIsb0JBQW9CLEVBQ3BCLCtCQUErQixFQUMvQiwwQkFBMEIsRUFDMUIsYUFBYSxFQUNiLFlBQVksRUFDWixvQkFBb0IsR0FDdkIsTUFBTSxtQ0FBbUMsQ0FBQztBQUkzQzs7O0dBR0c7QUFDSCxNQUFNLE9BQU8saUJBQWlCO0lBQzFCLFlBQW9CLGVBQWdDO1FBQWhDLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtJQUFHLENBQUM7SUFFeEQsWUFBWTtRQUNSLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQTBCLGVBQWUsQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFFRCxlQUFlO1FBQ1gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBNEIsaUJBQWlCLENBQUMsQ0FBQztJQUNyRixDQUFDO0lBRUQsZ0JBQWdCO1FBQ1osT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBeUIsa0JBQWtCLEVBQUUsRUFBRSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3JHLENBQUM7SUFFRCxZQUFZLENBQUMsUUFBZ0IsRUFBRSxlQUF1QixFQUFFLFFBQThCO1FBQ2xGLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzlCLGdCQUFnQixFQUNoQjtZQUNJLEtBQUssRUFBRTtnQkFDSCxRQUFRO2dCQUNSLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxFQUFFO2dCQUNoQyxlQUFlO2dCQUNmLFFBQVE7YUFDWDtTQUNKLENBQ0osQ0FBQztJQUNOLENBQUM7SUFFRCxNQUFNO1FBQ0YsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRCxVQUFVO1FBQ04sT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBc0IsZUFBZSxFQUFFLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUMvRixDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQW1CLFlBQVksRUFBRSxFQUFFLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDekYsQ0FBQztJQUVELGFBQWEsQ0FBQyxZQUEwQixFQUFFLE1BQWU7UUFDckQsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FDOUIsMEJBQTBCLEVBQzFCO1lBQ0ksWUFBWTtZQUNaLE1BQU07U0FDVCxDQUNKLENBQUM7SUFDTixDQUFDO0lBRUQsV0FBVyxDQUFDLE1BQTBCO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQThDLGFBQWEsRUFBRTtZQUMzRixNQUFNO1NBQ1QsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGtCQUFrQixDQUFDLFlBQTBCO1FBQ3pDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzlCLG9CQUFvQixFQUNwQjtZQUNJLFlBQVk7U0FDZixDQUNKLENBQUM7SUFDTixDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQWE7UUFDcEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBNEMsWUFBWSxFQUFFO1lBQ3hGLEtBQUs7U0FDUixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsMkJBQTJCLENBQUMsT0FBZ0I7UUFDeEMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FHaEMsK0JBQStCLEVBQUU7WUFDL0IsT0FBTztTQUNWLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxTQUFpQjtRQUM5QixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUM5QixrQkFBa0IsRUFDbEI7WUFDSSxTQUFTO1NBQ1osQ0FDSixDQUFDO0lBQ04sQ0FBQztJQUVELGtCQUFrQixDQUFDLFFBQW1DO1FBQ2xELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzlCLG9CQUFvQixFQUNwQjtZQUNJLFFBQVE7U0FDWCxDQUNKLENBQUM7SUFDTixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ3VycmVudFVzZXJDaGFubmVsLFxyXG4gICAgQ3VycmVudFVzZXJDaGFubmVsSW5wdXQsXHJcbiAgICBHZXROZXR3b3JrU3RhdHVzLFxyXG4gICAgR2V0VWlTdGF0ZSxcclxuICAgIEdldFVzZXJTdGF0dXMsXHJcbiAgICBMYW5ndWFnZUNvZGUsXHJcbiAgICBSZXF1ZXN0Q29tcGxldGVkLFxyXG4gICAgUmVxdWVzdFN0YXJ0ZWQsXHJcbiAgICBTZXRBY3RpdmVDaGFubmVsLFxyXG4gICAgU2V0QXNMb2dnZWRJbixcclxuICAgIFNldENvbnRlbnRMYW5ndWFnZSxcclxuICAgIFNldERpc3BsYXlVaUV4dGVuc2lvblBvaW50cyxcclxuICAgIFNldFVpTGFuZ3VhZ2UsXHJcbiAgICBTZXRVaUxvY2FsZSxcclxuICAgIFNldFVpVGhlbWUsXHJcbiAgICBVcGRhdGVVc2VyQ2hhbm5lbHMsXHJcbn0gZnJvbSAnLi4vLi4vY29tbW9uL2dlbmVyYXRlZC10eXBlcyc7XHJcbmltcG9ydCB7XHJcbiAgICBHRVRfTkVXVE9SS19TVEFUVVMsXHJcbiAgICBHRVRfVUlfU1RBVEUsXHJcbiAgICBHRVRfVVNFUl9TVEFUVVMsXHJcbiAgICBSRVFVRVNUX0NPTVBMRVRFRCxcclxuICAgIFJFUVVFU1RfU1RBUlRFRCxcclxuICAgIFNFVF9BQ1RJVkVfQ0hBTk5FTCxcclxuICAgIFNFVF9BU19MT0dHRURfSU4sXHJcbiAgICBTRVRfQVNfTE9HR0VEX09VVCxcclxuICAgIFNFVF9DT05URU5UX0xBTkdVQUdFLFxyXG4gICAgU0VUX0RJU1BMQVlfVUlfRVhURU5TSU9OX1BPSU5UUyxcclxuICAgIFNFVF9VSV9MQU5HVUFHRV9BTkRfTE9DQUxFLFxyXG4gICAgU0VUX1VJX0xPQ0FMRSxcclxuICAgIFNFVF9VSV9USEVNRSxcclxuICAgIFVQREFURV9VU0VSX0NIQU5ORUxTLFxyXG59IGZyb20gJy4uL2RlZmluaXRpb25zL2NsaWVudC1kZWZpbml0aW9ucyc7XHJcblxyXG5pbXBvcnQgeyBCYXNlRGF0YVNlcnZpY2UgfSBmcm9tICcuL2Jhc2UtZGF0YS5zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBOb3RlOiBsb2NhbCBxdWVyaWVzIGFsbCBoYXZlIGEgZmV0Y2gtcG9saWN5IG9mIFwiY2FjaGUtZmlyc3RcIiBleHBsaWNpdGx5IHNwZWNpZmllZCBkdWUgdG86XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hcG9sbG9ncmFwaHFsL2Fwb2xsby1saW5rLXN0YXRlL2lzc3Vlcy8yMzZcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGllbnREYXRhU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhc2VEYXRhU2VydmljZTogQmFzZURhdGFTZXJ2aWNlKSB7fVxyXG5cclxuICAgIHN0YXJ0UmVxdWVzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UubXV0YXRlPFJlcXVlc3RTdGFydGVkLk11dGF0aW9uPihSRVFVRVNUX1NUQVJURUQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBsZXRlUmVxdWVzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UubXV0YXRlPFJlcXVlc3RDb21wbGV0ZWQuTXV0YXRpb24+KFJFUVVFU1RfQ09NUExFVEVEKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXROZXR3b3JrU3RhdHVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5xdWVyeTxHZXROZXR3b3JrU3RhdHVzLlF1ZXJ5PihHRVRfTkVXVE9SS19TVEFUVVMsIHt9LCAnY2FjaGUtZmlyc3QnKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dpblN1Y2Nlc3ModXNlcm5hbWU6IHN0cmluZywgYWN0aXZlQ2hhbm5lbElkOiBzdHJpbmcsIGNoYW5uZWxzOiBDdXJyZW50VXNlckNoYW5uZWxbXSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8U2V0QXNMb2dnZWRJbi5NdXRhdGlvbiwgU2V0QXNMb2dnZWRJbi5WYXJpYWJsZXM+KFxyXG4gICAgICAgICAgICBTRVRfQVNfTE9HR0VEX0lOLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2luVGltZTogRGF0ZS5ub3coKS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVscyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dPdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZShTRVRfQVNfTE9HR0VEX09VVCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlclN0YXR1cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UucXVlcnk8R2V0VXNlclN0YXR1cy5RdWVyeT4oR0VUX1VTRVJfU1RBVFVTLCB7fSwgJ2NhY2hlLWZpcnN0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgdWlTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UucXVlcnk8R2V0VWlTdGF0ZS5RdWVyeT4oR0VUX1VJX1NUQVRFLCB7fSwgJ2NhY2hlLWZpcnN0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VWlMYW5ndWFnZShsYW5ndWFnZUNvZGU6IExhbmd1YWdlQ29kZSwgbG9jYWxlPzogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZTxTZXRVaUxhbmd1YWdlLk11dGF0aW9uLCBTZXRVaUxhbmd1YWdlLlZhcmlhYmxlcz4oXHJcbiAgICAgICAgICAgIFNFVF9VSV9MQU5HVUFHRV9BTkRfTE9DQUxFLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYW5ndWFnZUNvZGUsXHJcbiAgICAgICAgICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVaUxvY2FsZShsb2NhbGU6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8U2V0VWlMb2NhbGUuTXV0YXRpb24sIFNldFVpTG9jYWxlLlZhcmlhYmxlcz4oU0VUX1VJX0xPQ0FMRSwge1xyXG4gICAgICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29udGVudExhbmd1YWdlKGxhbmd1YWdlQ29kZTogTGFuZ3VhZ2VDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZTxTZXRDb250ZW50TGFuZ3VhZ2UuTXV0YXRpb24sIFNldENvbnRlbnRMYW5ndWFnZS5WYXJpYWJsZXM+KFxyXG4gICAgICAgICAgICBTRVRfQ09OVEVOVF9MQU5HVUFHRSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VDb2RlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VWlUaGVtZSh0aGVtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZTxTZXRVaVRoZW1lLk11dGF0aW9uLCBTZXRVaVRoZW1lLlZhcmlhYmxlcz4oU0VUX1VJX1RIRU1FLCB7XHJcbiAgICAgICAgICAgIHRoZW1lLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERpc3BsYXlVaUV4dGVuc2lvblBvaW50cyhkaXNwbGF5OiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZTxcclxuICAgICAgICAgICAgU2V0RGlzcGxheVVpRXh0ZW5zaW9uUG9pbnRzLk11dGF0aW9uLFxyXG4gICAgICAgICAgICBTZXREaXNwbGF5VWlFeHRlbnNpb25Qb2ludHMuVmFyaWFibGVzXHJcbiAgICAgICAgPihTRVRfRElTUExBWV9VSV9FWFRFTlNJT05fUE9JTlRTLCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWN0aXZlQ2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8U2V0QWN0aXZlQ2hhbm5lbC5NdXRhdGlvbiwgU2V0QWN0aXZlQ2hhbm5lbC5WYXJpYWJsZXM+KFxyXG4gICAgICAgICAgICBTRVRfQUNUSVZFX0NIQU5ORUwsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxJZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVVzZXJDaGFubmVscyhjaGFubmVsczogQ3VycmVudFVzZXJDaGFubmVsSW5wdXRbXSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8VXBkYXRlVXNlckNoYW5uZWxzLk11dGF0aW9uLCBVcGRhdGVVc2VyQ2hhbm5lbHMuVmFyaWFibGVzPihcclxuICAgICAgICAgICAgVVBEQVRFX1VTRVJfQ0hBTk5FTFMsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIl19