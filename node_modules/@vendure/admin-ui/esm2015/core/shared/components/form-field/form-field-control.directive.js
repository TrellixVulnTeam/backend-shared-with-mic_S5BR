import { Directive, ElementRef, Optional } from '@angular/core';
import { NgControl } from '@angular/forms';
// tslint:disable:directive-selector
export class FormFieldControlDirective {
    constructor(elementRef, formControlName) {
        this.elementRef = elementRef;
        this.formControlName = formControlName;
    }
    get valid() {
        return !!this.formControlName && !!this.formControlName.valid;
    }
    get touched() {
        return !!this.formControlName && !!this.formControlName.touched;
    }
    setReadOnly(value) {
        const input = this.elementRef.nativeElement;
        if (isSelectElement(input)) {
            input.disabled = value;
        }
        else {
            input.readOnly = value;
        }
    }
}
FormFieldControlDirective.decorators = [
    { type: Directive, args: [{ selector: 'input, textarea, select' },] }
];
FormFieldControlDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: NgControl, decorators: [{ type: Optional }] }
];
function isSelectElement(value) {
    return value.hasOwnProperty('selectedIndex');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1maWVsZC1jb250cm9sLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29yZS9zcmMvc2hhcmVkL2NvbXBvbmVudHMvZm9ybS1maWVsZC9mb3JtLWZpZWxkLWNvbnRyb2wuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNoRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFJM0Msb0NBQW9DO0FBRXBDLE1BQU0sT0FBTyx5QkFBeUI7SUFDbEMsWUFDWSxVQUFvQyxFQUN6QixlQUEwQjtRQURyQyxlQUFVLEdBQVYsVUFBVSxDQUEwQjtRQUN6QixvQkFBZSxHQUFmLGVBQWUsQ0FBVztJQUM5QyxDQUFDO0lBRUosSUFBSSxLQUFLO1FBQ0wsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7SUFDbEUsQ0FBQztJQUVELElBQUksT0FBTztRQUNQLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDO0lBQ3BFLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYztRQUN0QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztRQUM1QyxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN4QixLQUFLLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztTQUMxQjthQUFNO1lBQ0gsS0FBSyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7U0FDMUI7SUFDTCxDQUFDOzs7WUF0QkosU0FBUyxTQUFDLEVBQUUsUUFBUSxFQUFFLHlCQUF5QixFQUFFOzs7WUFOOUIsVUFBVTtZQUNyQixTQUFTLHVCQVNULFFBQVE7O0FBcUJqQixTQUFTLGVBQWUsQ0FBQyxLQUFtQjtJQUN4QyxPQUFPLEtBQUssQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDakQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTmdDb250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5cclxudHlwZSBJbnB1dEVsZW1lbnQgPSBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50O1xyXG5cclxuLy8gdHNsaW50OmRpc2FibGU6ZGlyZWN0aXZlLXNlbGVjdG9yXHJcbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0JyB9KVxyXG5leHBvcnQgY2xhc3MgRm9ybUZpZWxkQ29udHJvbERpcmVjdGl2ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWY8SW5wdXRFbGVtZW50PixcclxuICAgICAgICBAT3B0aW9uYWwoKSBwdWJsaWMgZm9ybUNvbnRyb2xOYW1lOiBOZ0NvbnRyb2wsXHJcbiAgICApIHt9XHJcblxyXG4gICAgZ2V0IHZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuZm9ybUNvbnRyb2xOYW1lICYmICEhdGhpcy5mb3JtQ29udHJvbE5hbWUudmFsaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRvdWNoZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5mb3JtQ29udHJvbE5hbWUgJiYgISF0aGlzLmZvcm1Db250cm9sTmFtZS50b3VjaGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJlYWRPbmx5KHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcclxuICAgICAgICBpZiAoaXNTZWxlY3RFbGVtZW50KGlucHV0KSkge1xyXG4gICAgICAgICAgICBpbnB1dC5kaXNhYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LnJlYWRPbmx5ID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc1NlbGVjdEVsZW1lbnQodmFsdWU6IElucHV0RWxlbWVudCk6IHZhbHVlIGlzIEhUTUxTZWxlY3RFbGVtZW50IHtcclxuICAgIHJldHVybiB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnc2VsZWN0ZWRJbmRleCcpO1xyXG59XHJcbiJdfQ==